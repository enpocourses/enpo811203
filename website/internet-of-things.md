@def title = "从传感器到物联网"
@def tags = ["iot", "guide"]

# 从传感器到物联网
\tableofcontents

## 传感器与数据采集

传感器的作用，就是把测量信号转换为电信号。一般仪器仪表的信号电流都为4-20mA，指最小电流为4mA,最大电流为20mA 。
传输信号时候，要考虑到导线上也有电阻，如果用电压传输则会在导线上产生一定的压降，那接收端的信号就会产生一定的误差了！所以使用电流信号作为变送器的标准传输！

但是电流信号代表了什么含义呢？这就需要在数据采集仪上进行定义（也可以说是解析）。

## 以mqtt为例来说明

数据采集仪解析获得的数据，如何进入到物联网平台呢？我们可以以mqtt简要来了解一下这个过程。

mqtt是个消息服务器。它是一个运行在服务器上的守护程序，就是一直在那监听（listen）。在消息服务器上如果权限允许，客户端可以发布、订阅消息。

数据采集获得数据之后，它可以以确定的时间间隔向特定的消息服务器发送消息，按照特定的主题发布。

而一个主题可能有多个不同的消费者订阅。有消息发布之后，每个订阅者都会收到消息。

比如我们数据采集仪采集的是室内温度，发布主题temperature-of-room-A。而数据客户端订阅了这个主题，就可以获得相应的数据，然后它可以按照自己的格式存储在相应的数据库中。

理解这个过程最好的办法就是按照mqtt的教程走一遍。可以参考如下链接：[MQTT系列教程1（基本概念介绍）](https://www.hangge.com/blog/cache/detail_2347.html)，[MQTT系列教程2（消息服务器EMQ的搭建和使用）](https://www.hangge.com/blog/cache/detail_2348.html) ,[MQTT系列教程3（客户端工具MQTTBox的安装和使用）](https://www.hangge.com/blog/cache/detail_2350.html)。